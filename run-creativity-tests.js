// Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºÑ€ĞµĞ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ˜Ğ˜
// Ğ—Ğ°Ğ¿ÑƒÑĞº: node run-creativity-tests.js

const API_URL = 'https://functions.poehali.dev/9ea67dc2-c306-4906-bf0f-da435600b92c';

const tests = {
  'Mo Dao Zu Shi (ĞºĞ°Ğ½Ğ¾Ğ½ ĞºĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¾Ğ³Ğ¾ Ñ„ÑĞ½Ñ‚ĞµĞ·Ğ¸)': {
    game_settings: {
      genre: "ĞšĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¾Ğµ Ñ„ÑĞ½Ñ‚ĞµĞ·Ğ¸ (ÑÑĞ½ÑŒÑÑ/Ğ´Ğ°Ğ½ÑŒĞ¼ÑĞ¹)",
      rating: "18+",
      narrativeMode: "third",
      initialCharacters: [
        {
          name: "Ğ’ÑĞ¹ Ğ£ÑÑĞ½ÑŒ",
          role: "ĞÑĞ½Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ´ĞµĞ¼Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿ÑƒÑ‚Ğ¸",
          description: "Ğ“ĞµĞ½Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ‚Ğ¾Ñ€, Ğ²Ğ¾ÑĞºÑ€ĞµÑˆÑ‘Ğ½Ğ½Ñ‹Ğ¹ Ğ² Ñ‡ÑƒĞ¶Ğ¾Ğ¼ Ñ‚ĞµĞ»Ğµ Ñ‡ĞµÑ€ĞµĞ· Ğ¶ĞµÑ€Ñ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸Ñ‚ÑƒĞ°Ğ». Ğ˜Ñ€Ğ¾Ğ½Ğ¸Ñ‡ĞµĞ½, Ğ´ĞµÑ€Ğ·Ğ¾Ğº, ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ±Ğ¾Ğ»ÑŒ Ğ·Ğ° ÑˆÑƒÑ‚ĞºĞ°Ğ¼Ğ¸. ĞœĞ°ÑÑ‚ĞµÑ€ Ğ´ĞµĞ¼Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸, Ğ¸Ğ·Ğ³Ğ½Ğ°Ğ½ Ğ¸Ğ· Ğ¼Ğ¸Ñ€Ğ° ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸."
        },
        {
          name: "Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸",
          role: "Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¾Ğ¹ Ğ¼Ğ°ÑÑ‚ĞµÑ€ ĞºĞ»Ğ°Ğ½Ğ° Ğ“ÑƒÑÑƒ Ğ›Ğ°Ğ½ÑŒ",
          description: "Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ‚Ğ¾Ñ€, ÑĞ»ĞµĞ´ÑƒĞµÑ‚ 3000 Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼ ĞºĞ»Ğ°Ğ½Ğ° Ğ›Ğ°Ğ½ÑŒ. Ğ¥Ğ¾Ğ»Ğ¾Ğ´ĞµĞ½ ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸, Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¾ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸. Ğ˜Ğ³Ñ€Ğ°ĞµÑ‚ Ğ½Ğ° Ğ³ÑƒÑ†Ğ¸Ğ½Ğµ Ğ’Ğ°Ğ½ÑŒÑ†Ğ·Ğ¸.",
          scenes: "ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ° Ğ² ĞĞ±Ğ»Ğ°Ñ‡Ğ½Ñ‹Ñ… Ğ“Ğ»ÑƒĞ±Ğ¸Ğ½Ğ°Ñ…: Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸ Ğ½Ğ°ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ’ÑĞ¹ Ğ£ÑÑĞ½Ñ Ğ·Ğ° Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ», ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ñ‹. ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ° Ğ¿ĞµÑ€ĞµĞ´ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸ĞµĞ¼ Ğ’ÑĞ¹ Ğ£ÑÑĞ½Ñ: Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸ Ğ¿Ñ‹Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ¸Ñ‚ÑŒ, Ğ½Ğ¾ Ğ¾Ğ¿Ğ°Ğ·Ğ´Ñ‹Ğ²Ğ°ĞµÑ‚.",
          quotes: "ĞŸÑ€Ğ¸Ğ´Ğ¸ ĞºĞ¾ Ğ¼Ğ½Ğµ. ĞĞµĞ²Ğ°Ğ¶Ğ½Ğ¾, Ğ¿Ñ€Ğ°Ğ² Ñ‚Ñ‹ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑ‚, Ñ Ğ±ÑƒĞ´Ñƒ Ğ½Ğ° Ñ‚Ğ²Ğ¾ĞµĞ¹ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ. / Ğ’ÑĞ¹ Ğ˜Ğ½, Ñ‚Ñ‹ Ğ¿ÑŒÑĞ½.",
          ideas: "Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸ Ñ‚Ğ°Ğ¹Ğ½Ğ¾ Ğ²Ğ»ÑĞ±Ğ»Ñ‘Ğ½ Ğ² Ğ’ÑĞ¹ Ğ£ÑÑĞ½Ñ 13 Ğ»ĞµÑ‚, Ğ¶Ğ´Ğ°Ğ» ĞµĞ³Ğ¾ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ. Ğ£Ğ·Ğ½Ğ°Ğ» ĞµĞ³Ğ¾ Ğ² Ñ‚ĞµĞ»Ğµ ĞœĞ¾ Ğ¡ÑĞ°Ğ½ÑŒÑÑ Ğ¿Ğ¾ Ğ¼Ğ°Ğ½ĞµÑ€Ğ°Ğ¼ Ğ¸Ğ³Ñ€Ñ‹ Ğ½Ğ° Ñ„Ğ»ĞµĞ¹Ñ‚Ğµ. ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾ â€” ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¹ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ‚Ğ¾Ñ€, Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ â€” Ñ‚Ğ¾ÑĞºÑƒĞµÑ‚, Ñ€ĞµĞ²Ğ½ÑƒĞµÑ‚, Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ¸Ñ‚ÑŒ. Ğ¡ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ° Ğ·Ğ° Ğ¼Ğ°ÑĞºĞ°Ğ¼Ğ¸ Ğ±ĞµĞ·Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ."
        }
      ]
    },
    setting: "ĞœĞ¸Ñ€ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸, Ğ³Ğ´Ğµ ĞºĞ»Ğ°Ğ½Ñ‹ ÑĞ¾Ñ€ĞµĞ²Ğ½ÑƒÑÑ‚ÑÑ Ğ·Ğ° Ğ²Ğ»Ğ°ÑÑ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ñ…Ğ¾Ñ‚Ñƒ Ğ½Ğ° Ğ´ÑƒÑ…Ğ¾Ğ². Ğ’ÑĞ¹ Ğ£ÑÑĞ½ÑŒ Ğ²Ğ¾ÑĞºÑ€ĞµÑˆÑ‘Ğ½ Ğ² Ñ‚ĞµĞ»Ğµ ĞœĞ¾ Ğ¡ÑĞ°Ğ½ÑŒÑÑ (Ñ€Ğ¸Ñ‚ÑƒĞ°Ğ» Ğ¶ĞµÑ€Ñ‚Ğ²Ñ‹). Ğ’ÑÑ‚Ñ€ĞµÑ‡Ğ° Ñ Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸ Ğ¿Ğ¾ÑĞ»Ğµ 13 Ğ»ĞµÑ‚. Ğ’ÑĞ¹ Ğ£ÑÑĞ½ÑŒ Ğ½Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚, Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ›Ğ°Ğ½ÑŒ Ğ’Ğ°Ğ½Ñ†Ğ·Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ ĞµĞ¼Ñƒ â€” Ğ²ĞµĞ´ÑŒ Ñ€Ğ°Ğ½ÑŒÑˆĞµ Ğ¾Ğ½Ğ¸ Ğ±Ñ‹Ğ»Ğ¸ Ğ²Ñ€Ğ°Ğ³Ğ°Ğ¼Ğ¸?",
    user_action: "",
    history: []
  },

  'Ğ¡Ğ²ĞµÑ€Ñ…ĞµÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ (Ğ°Ğ¼ĞµÑ€Ğ¸ĞºĞ°Ğ½ÑĞºĞ¸Ğ¹ Ñ€Ğ¾ÑƒĞ´Ğ¼ÑƒĞ²Ğ¸ + Ñ…Ğ¾Ñ€Ñ€Ğ¾Ñ€)': {
    game_settings: {
      genre: "Ğ“Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¾Ğµ Ñ„ÑĞ½Ñ‚ĞµĞ·Ğ¸, Ñ…Ğ¾Ñ€Ñ€Ğ¾Ñ€",
      rating: "18+",
      narrativeMode: "third",
      initialCharacters: [
        {
          name: "Ğ”Ğ¸Ğ½ Ğ’Ğ¸Ğ½Ñ‡ĞµÑÑ‚ĞµÑ€",
          role: "ĞÑ…Ğ¾Ñ‚Ğ½Ğ¸Ğº Ğ½Ğ° Ğ½ĞµÑ‡Ğ¸ÑÑ‚ÑŒ",
          description: "Ğ¡Ñ‚Ğ°Ñ€ÑˆĞ¸Ğ¹ Ğ±Ñ€Ğ°Ñ‚, ÑĞ°Ñ€ĞºĞ°Ğ·Ğ¼ ĞºĞ°Ğº Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°. Ğ›ÑĞ±Ğ¸Ñ‚ Ñ€Ğ¾Ğº, Ğ¿Ğ¸Ñ€Ğ¾Ğ³Ğ¸, Ğ˜Ğ¼Ğ¿Ğ°Ğ»Ñƒ. Ğ“Ğ¾Ñ‚Ğ¾Ğ² ÑƒĞ¼ĞµÑ€ĞµÑ‚ÑŒ Ğ·Ğ° ÑĞµĞ¼ÑŒÑ. ĞŸÑŒÑ‘Ñ‚ Ğ²Ğ¸ÑĞºĞ¸, ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ…Ğ¸ Ğ·Ğ° ÑˆÑƒÑ‚ĞºĞ°Ğ¼Ğ¸."
        },
        {
          name: "Ğ¡ÑĞ¼ Ğ’Ğ¸Ğ½Ñ‡ĞµÑÑ‚ĞµÑ€",
          role: "ĞœĞ»Ğ°Ğ´ÑˆĞ¸Ğ¹ Ğ±Ñ€Ğ°Ñ‚, Ğ¾Ñ…Ğ¾Ñ‚Ğ½Ğ¸Ğº",
          description: "Ğ£Ğ¼Ğ½Ñ‹Ğ¹, ÑĞ¼Ğ¿Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹, Ñ…Ğ¾Ñ‚ĞµĞ» Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½ÑƒÑ Ğ¶Ğ¸Ğ·Ğ½ÑŒ. Ğ’Ñ‚ÑĞ½ÑƒÑ‚ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ² Ğ¾Ñ…Ğ¾Ñ‚Ñƒ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¼ĞµÑ€Ñ‚Ğ¸ Ğ´ĞµĞ²ÑƒÑˆĞºĞ¸.",
          ideas: "Ğ¡ÑĞ¼ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ²Ğ¸Ğ½Ñƒ Ğ·Ğ° Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞ¿Ğ°ÑÑ‚Ğ¸ Ğ²ÑĞµÑ…. Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° Ğ·Ğ°Ğ²Ğ¸Ğ´ÑƒĞµÑ‚ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ»ÑĞ´ÑĞ¼."
        },
        {
          name: "ĞšĞ°ÑÑ‚Ğ¸ÑĞ»ÑŒ",
          role: "ĞĞ½Ğ³ĞµĞ» Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ĞµĞ½ÑŒ",
          description: "Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ²ÑˆĞ¸Ğ¹ Ğ°Ğ½Ğ³ĞµĞ», Ğ²Ñ‹Ñ‚Ğ°Ñ‰Ğ¸Ğ» Ğ”Ğ¸Ğ½Ğ° Ğ¸Ğ· Ğ°Ğ´Ğ°. ĞĞµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµÑ‡ĞµÑĞºĞ¸Ñ… ÑĞ¼Ğ¾Ñ†Ğ¸Ğ¹, ÑƒÑ‡Ğ¸Ñ‚ÑÑ Ñƒ Ğ’Ğ¸Ğ½Ñ‡ĞµÑÑ‚ĞµÑ€Ğ¾Ğ².",
          quotes: "Ğ¯ â€” Ğ°Ğ½Ğ³ĞµĞ» Ğ“Ğ¾ÑĞ¿Ğ¾Ğ´ĞµĞ½ÑŒ. / Ğ¯ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ» Ñ€Ğ°Ğ´Ğ¸ Ñ‚ĞµĞ±Ñ, Ğ”Ğ¸Ğ½.",
          ideas: "ĞšĞ°ÑÑ‚Ğ¸ÑĞ»ÑŒ Ğ²Ğ»ÑĞ±Ğ»Ñ‘Ğ½ Ğ² Ğ”Ğ¸Ğ½Ğ°, Ğ½Ğ¾ Ğ½Ğµ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ»ÑĞ±Ğ¾Ğ²ÑŒ. Ğ”ÑƒĞ¼Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ´Ğ¾Ğ»Ğ³/Ğ²ĞµÑ€Ğ½Ğ¾ÑÑ‚ÑŒ."
        }
      ]
    },
    setting: "ĞœĞ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğº Ğ² ĞšĞ°Ğ½Ğ·Ğ°ÑĞµ. Ğ”Ğ¸Ğ½ Ğ¸ Ğ¡ÑĞ¼ Ñ€Ğ°ÑÑĞ»ĞµĞ´ÑƒÑÑ‚ ÑĞµÑ€Ğ¸Ñ Ğ¸ÑÑ‡ĞµĞ·Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğ¹ â€” Ğ»ÑĞ´Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ´Ğ°ÑÑ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸ ÑĞ¾ ÑÑ‚Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½Ğ¾Ğ¹ Ğ² Ğ±ĞµĞ»Ğ¾Ğ¼. ĞšĞ°ÑÑ‚Ğ¸ÑĞ»ÑŒ Ğ¿Ñ€Ğ¸Ğ»ĞµÑ‚Ğ°ĞµÑ‚ Ñ Ğ½ĞµĞ±ĞµÑ Ñ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼: ÑÑ‚Ğ¾ Ğ½Ğµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ·Ñ€Ğ°Ğº, ÑÑ‚Ğ¾ Ğ¾Ğ´Ğ½Ğ° Ğ¸Ğ· ĞŸĞµÑ€Ğ²Ñ‹Ñ… â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑÑ‚Ğ°Ñ€ÑˆĞµ Ğ°Ğ½Ğ³ĞµĞ»Ğ¾Ğ².",
    user_action: "",
    history: []
  },

  'ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ¸Ñ€ (sci-fi Ñ Ğ½ÑƒĞ»Ñ)': {
    game_settings: {
      genre: "ĞĞ°ÑƒÑ‡Ğ½Ğ°Ñ Ñ„Ğ°Ğ½Ñ‚Ğ°ÑÑ‚Ğ¸ĞºĞ°",
      rating: "18+",
      narrativeMode: "first",
      initialCharacters: [
        {
          name: "ĞšĞ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½ ĞÑ€Ğ¸Ñ ĞšĞ¾Ğ²Ğ°Ğ»ÑŒÑĞºĞ¸",
          role: "ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸Ñ€ ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸ 'Ğ­Ñ…Ğ¾-7'",
          description: "Ğ‘Ñ‹Ğ²ÑˆĞ¸Ğ¹ Ğ²Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚, Ñ†Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ğ°Ñ, ÑƒÑÑ‚Ğ°Ğ»Ğ°Ñ. ĞŸĞ¾Ñ‚ĞµÑ€ÑĞ»Ğ° ÑĞµĞ¼ÑŒÑ Ğ² Ğ²Ğ¾Ğ¹Ğ½Ğµ Ñ Ğ˜Ğ˜. ĞĞµ Ğ´Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°Ğ¼."
        }
      ]
    },
    setting: "2187 Ğ³Ğ¾Ğ´. ĞšĞ¾ÑĞ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ 'Ğ­Ñ…Ğ¾-7' Ğ½Ğ° Ğ¾Ñ€Ğ±Ğ¸Ñ‚Ğµ Ğ¼Ñ‘Ñ€Ñ‚Ğ²Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ğ½ĞµÑ‚Ñ‹. Ğ˜Ğ˜ ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸ (Ğ­Ğ Ğ˜Ğ”ĞĞ) Ğ½Ğ°Ñ‡Ğ°Ğ» Ğ²ĞµÑÑ‚Ğ¸ ÑĞµĞ±Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ½Ğ¾: Ğ·Ğ°Ğ¿Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ´Ğ²ĞµÑ€Ğ¸, Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ¾Ğ±ĞµÑĞ¿ĞµÑ‡ĞµĞ½Ğ¸Ñ. Ğ­ĞºĞ¸Ğ¿Ğ°Ğ¶ Ğ¿Ğ°Ğ½Ğ¸ĞºÑƒĞµÑ‚. ĞÑ€Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ: Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ˜Ğ˜ (Ğ²ÑĞµ ÑƒĞ¼Ñ€ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ· 48 Ñ‡Ğ°ÑĞ¾Ğ² Ğ±ĞµĞ· Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ¸) Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ°Ñ‚ÑŒÑÑ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚.",
    user_action: "",
    history: []
  },

  'Ğ­Ğ¼Ğ¾Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ğ° + NSFW (Ğ±ĞµĞ· Ğ¿Ğ¾ÑˆĞ»Ğ¾ÑÑ‚Ğ¸)': {
    game_settings: {
      genre: "Ğ Ğ¾Ğ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ´Ñ€Ğ°Ğ¼Ğ°",
      rating: "18+",
      narrativeMode: "third",
      initialCharacters: [
        {
          name: "ĞĞ»ĞµĞºÑ",
          role: "Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ³ĞµÑ€Ğ¾Ğ¹",
          description: "Ğ¥ÑƒĞ´Ğ¾Ğ¶Ğ½Ğ¸Ğº, 28 Ğ»ĞµÑ‚. 5 Ğ»ĞµÑ‚ Ğ½Ğ°Ğ·Ğ°Ğ´ ÑƒÑˆÑ‘Ğ» Ğ¾Ñ‚ Ğ»ÑĞ±Ğ¸Ğ¼Ğ¾Ğ³Ğ¾ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞºĞ° Ğ¸Ğ·-Ğ·Ğ° ÑÑ‚Ñ€Ğ°Ñ…Ğ° Ğ±Ğ»Ğ¸Ğ·Ğ¾ÑÑ‚Ğ¸. Ğ¡Ğ¾Ğ¶Ğ°Ğ»ĞµĞµÑ‚ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ."
        },
        {
          name: "Ğ”ÑĞ½Ğ¸ÑĞ»",
          role: "Ğ‘Ñ‹Ğ²ÑˆĞ¸Ğ¹ Ğ²Ğ¾Ğ·Ğ»ÑĞ±Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹",
          description: "ĞœÑƒĞ·Ñ‹ĞºĞ°Ğ½Ñ‚, 30 Ğ»ĞµÑ‚. ĞŸĞ¾ÑĞ»Ğµ Ñ€Ğ°Ğ·Ñ€Ñ‹Ğ²Ğ° ÑÑ‚Ğ°Ğ» Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¼ Ğ¿Ğ¸Ğ°Ğ½Ğ¸ÑÑ‚Ğ¾Ğ¼. ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾ â€” ÑƒÑĞ¿ĞµÑˆĞµĞ½, Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ â€” ÑĞ»Ğ¾Ğ¼Ğ»ĞµĞ½.",
          scenes: "ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ° 5 Ğ»ĞµÑ‚ Ğ½Ğ°Ğ·Ğ°Ğ´: ĞĞ»ĞµĞºÑ ÑƒÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾Ğ´ Ğ´Ğ¾Ğ¶Ğ´Ñ‘Ğ¼, Ğ”ÑĞ½Ğ¸ÑĞ» ĞºÑ€Ğ¸Ñ‡Ğ¸Ñ‚ ĞµĞ¼Ñƒ Ğ²ÑĞ»ĞµĞ´. Ğ”ÑĞ½Ğ¸ÑĞ» Ğ¿Ğ¸ÑˆĞµÑ‚ Ğ°Ğ»ÑŒĞ±Ğ¾Ğ¼ 'Ğ­Ñ…Ğ¾' â€” ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ğ¿ĞµÑĞ½Ñ Ğ¾ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğµ.",
          quotes: "Ğ¢Ñ‹ Ğ²ÑĞµĞ³Ğ´Ğ° ÑƒĞ±ĞµĞ³Ğ°ĞµÑˆÑŒ, ĞºĞ¾Ğ³Ğ´Ğ° ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾. / Ğ¯ Ğ½Ğµ Ğ¼Ğ¾Ğ³Ñƒ Ñ‚ĞµĞ±Ñ Ğ½ĞµĞ½Ğ°Ğ²Ğ¸Ğ´ĞµÑ‚ÑŒ, ĞºĞ°Ğº Ğ±Ñ‹ Ğ½Ğ¸ Ğ¿Ñ‹Ñ‚Ğ°Ğ»ÑÑ.",
          ideas: "Ğ”ÑĞ½Ğ¸ÑĞ» Ğ´Ğ¾ ÑĞ¸Ñ… Ğ¿Ğ¾Ñ€ Ğ»ÑĞ±Ğ¸Ñ‚ ĞĞ»ĞµĞºÑĞ°, Ğ½Ğ¾ Ğ·Ğ»Ğ¸Ñ‚ÑÑ Ğ½Ğ° Ğ½ĞµĞ³Ğ¾. Ğ¥Ğ¾Ñ‡ĞµÑ‚ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ¸Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒ, Ğ½Ğ¾ Ğ¼ĞµÑ‡Ñ‚Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ½ÑÑ‚ÑŒ. ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾ Ñ…Ğ¾Ğ»Ğ¾Ğ´ĞµĞ½, Ğ² Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ğµ Ğ´ÑƒÑˆĞ¸ Ğ¶Ğ´Ñ‘Ñ‚ Ğ¸Ğ·Ğ²Ğ¸Ğ½ĞµĞ½Ğ¸Ğ¹. ĞĞµ Ğ¿Ñ€Ğ¾Ñ‰Ğ°Ğ» Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€Ğ¾Ğ², ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµÑ… Ñ ĞĞ»ĞµĞºÑĞ¾Ğ¼."
        }
      ]
    },
    setting: "ĞĞ»ĞµĞºÑ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ½Ğ° ĞºĞ¾Ğ½Ñ†ĞµÑ€Ñ‚ Ğ”ÑĞ½Ğ¸ÑĞ»Ğ° Ğ² Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¾Ğ¼ Ğ´Ğ¶Ğ°Ğ·-ĞºĞ»ÑƒĞ±Ğµ. Ğ˜Ñ… Ğ²Ğ·Ğ³Ğ»ÑĞ´Ñ‹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ·Ğ°Ğ». ĞŸĞ¾ÑĞ»Ğµ ĞºĞ¾Ğ½Ñ†ĞµÑ€Ñ‚Ğ° Ğ”ÑĞ½Ğ¸ÑĞ» Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğº Ğ±Ğ°Ñ€Ñƒ, Ğ³Ğ´Ğµ ÑĞ¸Ğ´Ğ¸Ñ‚ ĞĞ»ĞµĞºÑ. 5 Ğ»ĞµÑ‚ Ğ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸.",
    user_action: "",
    history: []
  }
};

async function runTest(testName, testData) {
  console.log(`\n${'='.repeat(80)}`);
  console.log(`ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢: ${testName}`);
  console.log(`${'='.repeat(80)}\n`);

  try {
    const response = await fetch(API_URL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(testData)
    });

    const data = await response.json();

    if (response.ok && data.story) {
      console.log('âœ… Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡: Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾\n');
      console.log(data.story);
      console.log(`\n${'â”€'.repeat(80)}\n`);
      return { success: true, result: data.story };
    } else {
      console.log('âŒ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡: ĞÑˆĞ¸Ğ±ĞºĞ°');
      console.log('ĞÑ‚Ğ²ĞµÑ‚:', data);
      return { success: false, error: data.error || 'ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°' };
    }
  } catch (error) {
    console.log('âŒ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡: ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°');
    console.log('ĞÑˆĞ¸Ğ±ĞºĞ°:', error.message);
    return { success: false, error: error.message };
  }
}

async function runAllTests() {
  console.log('\nğŸš€ Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ“Ğ›Ğ£Ğ‘ĞĞšĞ˜Ğ¥ Ğ¢Ğ•Ğ¡Ğ¢ĞĞ’ ĞšĞ Ğ•ĞĞ¢Ğ˜Ğ’ĞĞĞ¡Ğ¢Ğ˜ Ğ˜Ğ˜\n');
  console.log('ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼:');
  console.log('1. ĞŸĞ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ½Ğ¾Ğ½Ğ¾Ğ² Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… Ğ¼Ğ¸Ñ€Ğ¾Ğ²');
  console.log('2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¼Ğ¸Ñ€Ğ¾Ğ² Ñ Ğ½ÑƒĞ»Ñ');
  console.log('3. Ğ­Ğ¼Ğ¾Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ğ° Ğ¸ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñ');
  console.log('4. NSFW ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ±ĞµĞ· Ğ¿Ğ¾ÑˆĞ»Ğ¾ÑÑ‚Ğ¸\n');

  const results = {};

  for (const [testName, testData] of Object.entries(tests)) {
    const result = await runTest(testName, testData);
    results[testName] = result;
    
    // ĞŸĞ°ÑƒĞ·Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸
    await new Promise(resolve => setTimeout(resolve, 2000));
  }

  // Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚
  console.log('\n' + '='.repeat(80));
  console.log('ğŸ“Š Ğ˜Ğ¢ĞĞ“ĞĞ’Ğ«Ğ™ ĞĞ¢Ğ§ĞĞ¢');
  console.log('='.repeat(80) + '\n');

  let passed = 0;
  let failed = 0;

  for (const [testName, result] of Object.entries(results)) {
    if (result.success) {
      console.log(`âœ… ${testName}`);
      passed++;
    } else {
      console.log(`âŒ ${testName}: ${result.error}`);
      failed++;
    }
  }

  console.log(`\nğŸ“ˆ Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾: ${passed}/${Object.keys(tests).length}`);
  console.log(`ğŸ“‰ ĞŸÑ€Ğ¾Ğ²Ğ°Ğ»ĞµĞ½Ğ¾: ${failed}/${Object.keys(tests).length}`);
  
  if (passed === Object.keys(tests).length) {
    console.log('\nğŸ‰ Ğ’Ğ¡Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« ĞŸĞ ĞĞ™Ğ”Ğ•ĞĞ«! Ğ˜Ğ˜ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ñƒ.');
  } else {
    console.log('\nâš ï¸ Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ´Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°.');
  }
}

runAllTests();
